<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zj.communityVegetables.dao.ICommunityVegetablesDao">
    <insert id="addCommunityVegetables" parameterType="com.zj.communityVegetables.model.CommunityVegetablesBo">
        INSERT INTO
            t_community_vegetables (id,title,price,fmImg,preferentialRules,commodityDesc,
            isSeckill,createDate,createPeople,isDelete)
        VALUES
            (#{id},#{title},#{price},#{fmImg},#{preferentialRules},#{commodityDesc},
            #{isSeckill},#{createDate},#{createPeople},#{isDelete})
    </insert>
    <select id="getCommunityVegetablesList" parameterType="com.zj.communityVegetables.model.CommunityVegetablesBo" resultType="com.zj.communityVegetables.model.CommunityVegetablesBo">
        SELECT
            tcv.*,
            tu.trueName
        FROM
            t_community_vegetables tcv
            LEFT JOIN t_user tu ON tcv.createPeople=tu.id
        WHERE tcv.isDelete=0
    </select>

    <select id="selectByid" parameterType="String"   resultType="com.zj.communityVegetables.model.CommunityVegetablesBo">
        select * from t_community_vegetables where id=#{id}
    </select>

<!--  删除-->
    <delete id="deleteByid" >
        DELETE FROM
            t_community_vegetables
        WHERE
            id=#{id}
    </delete>
    <update id="updateByCid">
        UPDATE
            t_community_vegetables
        SET
            title=#{title},
            price=#{price},
            fmImg=#{fmImg},
            preferentialRules=#{preferentialRules},
            commodityDesc=#{commodityDesc},
            isSeckill=#{isSeckill}

        WHERE
            id=#{id}
    </update>




</mapper>
